"""
Text and Image Context Display - Visual Architecture Diagram

BEFORE (Text Only):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”‚ Context Box (QTextEdit)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Part Number: D38999/12                                       â”‚
â”‚ Part Code: MSEK                                              â”‚
â”‚ Material: Aluminum                                           â”‚
â”‚ Family: D38999                                               â”‚
â”‚ Shell Type: 26 - Plug                                        â”‚
â”‚ Insert Arrangement: A - 1                                    â”‚
â”‚ Socket Type: Type A                                          â”‚
â”‚ Keying: A                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


AFTER - Option 1: Inline Base64 (in HTML):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”‚ Context Box (QTextBrowser - HTML)         â”‚ Pinout Image   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Part Number: D38999/12                   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ Part Code: MSEK         [IMAGE HERE]     â”‚ â”‚            â”‚ â”‚
â”‚ Material: Aluminum      (150x150px)      â”‚ â”‚  Image if  â”‚ â”‚
â”‚ Family: D38999                           â”‚ â”‚  image_pathâ”‚ â”‚
â”‚ Shell Type: 26 - Plug                    â”‚ â”‚            â”‚ â”‚
â”‚ Insert Arrangement: A - 1                â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ Socket Type: Type A                      â”‚                â”‚
â”‚ Keying: A                                â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


DATA FLOW:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

User selects row in table
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ _on_row_selected()      â”‚
â”‚ (view signal handler)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ _update_context_display(row_data)       â”‚
â”‚ Presenter method                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                  â–¼                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Generate    â”‚  â”‚ Load Image   â”‚  â”‚ Set HTML     â”‚
    â”‚ HTML (with  â”‚  â”‚ to Label     â”‚  â”‚ in Context   â”‚
    â”‚ image data) â”‚  â”‚ if path      â”‚  â”‚ Box          â”‚
    â”‚             â”‚  â”‚              â”‚  â”‚              â”‚
    â”‚ Returns:    â”‚  â”‚ Updates:     â”‚  â”‚ Renders:     â”‚
    â”‚ <html>...</  â”‚  â”‚ pinout_image â”‚  â”‚ Formatted    â”‚
    â”‚ img src...> â”‚  â”‚ _label       â”‚  â”‚ with images  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                  â”‚                  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ User sees formatted   â”‚
        â”‚ text + images in      â”‚
        â”‚ context display!      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


SUPPORTED IMAGE SOURCES:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. BASE64-ENCODED (Inline in HTML)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ row_data['image_base64']                     â”‚
   â”‚ = 'data:image/png;base64,iVBORw0KG...'     â”‚
   â”‚                                              â”‚
   â”‚ â†’ Displayed in HTML via <img src="...">     â”‚
   â”‚ â†’ Shows inline with text                    â”‚
   â”‚ â†’ No separate file needed                   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. FILE PATH (Loaded to Side Label)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ row_data['image_path']                       â”‚
   â”‚ = 'C:/connectors/d38999_12.png'             â”‚
   â”‚                                              â”‚
   â”‚ â†’ Loaded by _load_image_to_label()          â”‚
   â”‚ â†’ Displayed in pinout_image_label           â”‚
   â”‚ â†’ Shows on right side of context            â”‚
   â”‚ â†’ Separate from text                        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. REMOTE URL (Future Enhancement)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ row_data['image_url']                        â”‚
   â”‚ = 'https://example.com/d38999.png'          â”‚
   â”‚                                              â”‚
   â”‚ â†’ Not yet fully supported                    â”‚
   â”‚ â†’ Requires: requests/urllib library          â”‚
   â”‚ â†’ Planned for future release                 â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


IMPLEMENTATION STRUCTURE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

LookupConnectorPresenter
    â”‚
    â”œâ”€ _update_context_display(row_data)
    â”‚  â”‚
    â”‚  â”œâ”€â†’ _generate_context_html(row_data)
    â”‚  â”‚   â”œâ”€ Checks for image_base64
    â”‚  â”‚   â”œâ”€ Checks for image_url
    â”‚  â”‚   â””â”€ Wraps in styled HTML layout
    â”‚  â”‚
    â”‚  â”œâ”€â†’ context_box.setHtml(html)
    â”‚  â”‚   (context_box is QTextBrowser - HTML aware)
    â”‚  â”‚
    â”‚  â””â”€â†’ _load_image_to_label(image_path, label)
    â”‚      â”œâ”€ Opens file
    â”‚      â”œâ”€ Creates QPixmap
    â”‚      â””â”€ Sets to pinout_image_label
    â”‚
    â””â”€ filter_redux (existing - no changes)


COMPONENT CHANGES:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Before:
    ui/base_sub_tab_view.py
        context_box = QTextEdit()  â† Plain text only
    
After:
    ui/base_sub_tab_view.py
        context_box = QTextBrowser()  â† HTML + images

    ui/components/rich_text_browser.py (new)
        RichTextBrowser (optional custom component)
        HtmlContextBrowser (optional custom component)


HTML OUTPUT EXAMPLE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

<html>
<body style="font-family: Arial; color: #e0e0e0;">
    <div style="display: flex; gap: 15px;">
        <div>
            <h3>Connector Details</h3>
            <table style="font-size: 12px;">
                <tr>
                    <td>Part Number:</td>
                    <td>D38999/12</td>
                </tr>
                <tr>
                    <td>Material:</td>
                    <td>Aluminum</td>
                </tr>
                <!-- More rows... -->
            </table>
        </div>
        <div>
            <img src="data:image/png;base64,iVBORw0K..."
                 style="width: 150px; height: 150px; border-radius: 5px;" />
        </div>
    </div>
</body>
</html>

Result:
    Left: Formatted table of properties
    Right: 150x150px image with rounded corners


ENCODING WORKFLOW:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Your Data Source (CSV/DB)
         â”‚
         â–¼
    [prepare images]
         â”‚
         â–¼
encode_image_to_base64(image_path)
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Returns:             â”‚
    â”‚ 'data:image/png;    â”‚
    â”‚  base64,iVBOR...'   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
Add to row_data['image_base64']
         â”‚
         â–¼
Display in context (automatic!)


UTILITIES PROVIDED:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

examples/context_images_example.py:

âœ“ encode_image_to_base64(image_path)
  Convert single image file to base64 data URI

âœ“ batch_encode_images_for_csv(data, image_dir)
  Convert all images in dataset to base64

âœ“ create_sample_base64_image()
  Generate test image for demos

âœ“ display_connector_with_image(presenter, row_data)
  Display row with image in context

âœ“ create_sample_connector_data_with_images()
  Generate example data with different image types


QUICK START:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Step 1: Import utility
    from examples.context_images_example import encode_image_to_base64

Step 2: Encode image
    b64 = encode_image_to_base64('C:/connectors/connector.png')

Step 3: Add to data
    row_data['image_base64'] = b64

Step 4: Display
    presenter._update_context_display(row_data)
    # Image appears automatically!

That's it! ğŸ‰
"""

# This is a documentation file explaining the architecture
# Run: python -c "from this_file import *; print(__doc__)"
